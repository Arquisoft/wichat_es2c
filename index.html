<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.23">
<title>wichat_es2c</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child{border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:first-child,.sidebarblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child,.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active,#footnotes .footnote a:first-of-type:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,td.hdlist1,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="article">
<div id="header">
<h1><span class="image"><img src="./images/arc42-logo.png" alt="arc42"></span> wichat_es2c</h1>
<div class="details">
<span id="revnumber">version 8.2 EN,</span>
<span id="revdate">January 2023</span>
<br><span id="revremark">(based upon AsciiDoc version)</span>
</div>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_introduction_and_goals">1. Introduction and Goals</a>
<ul class="sectlevel2">
<li><a href="#_introduction">1.1. Introduction</a></li>
</ul>
</li>
<li><a href="#_team_members">2. Team Members</a>
<ul class="sectlevel2">
<li><a href="#_requirements_overview">2.1. Requirements Overview</a></li>
<li><a href="#_quality_goals">2.2. Quality Goals</a></li>
<li><a href="#_stakeholders">2.3. Stakeholders</a></li>
</ul>
</li>
<li><a href="#_architecture_constraints">3. Architecture Constraints</a>
<ul class="sectlevel2">
<li><a href="#_technical_constraints">3.1. Technical Constraints</a></li>
<li><a href="#_organizational_constraints">3.2. Organizational Constraints</a></li>
<li><a href="#_conventions">3.3. Conventions</a></li>
</ul>
</li>
<li><a href="#_context_and_scope">4. Context and Scope</a>
<ul class="sectlevel2">
<li><a href="#_business_context">4.1. Business Context</a></li>
<li><a href="#_technical_context">4.2. Technical Context</a></li>
</ul>
</li>
<li><a href="#section-solution-strategy">5. Solution Strategy</a>
<ul class="sectlevel2">
<li><a href="#_technological_decisions">5.1. Technological decisions</a></li>
<li><a href="#_architecture_design">5.2. Architecture &amp; Design</a></li>
<li><a href="#_team_organization">5.3. Team Organization</a></li>
</ul>
</li>
<li><a href="#_building_block_view">6. Building Block View</a>
<ul class="sectlevel2">
<li><a href="#_5_1_whitebox_overall_system">6.1. 5.1 Whitebox Overall System</a></li>
<li><a href="#_5_2_internal_funcionality">6.2. 5.2 Internal funcionality</a></li>
<li><a href="#_registering_an_user">6.3. Registering an user</a></li>
<li><a href="#_logging_in">6.4. Logging in</a></li>
<li><a href="#_questions_generation">6.5. Questions generation</a></li>
<li><a href="#_wichat_quiz_game">6.6. WiChat quiz game</a></li>
<li><a href="#_obtaining_hints_via_chatbot">6.7. Obtaining hints via Chatbot</a></li>
<li><a href="#_leaderboard_and_match_search">6.8. Leaderboard and match search</a></li>
</ul>
</li>
<li><a href="#_deployment_view">7. Deployment View</a>
<ul class="sectlevel2">
<li><a href="#_infrastructure_level_1">7.1. Infrastructure Level 1</a></li>
</ul>
</li>
<li><a href="#_cross_cutting_concepts">8. Cross-cutting Concepts</a>
<ul class="sectlevel2">
<li><a href="#_domain_concepts">8.1. <em>Domain concepts</em></a></li>
<li><a href="#_under_the_hood">8.2. <em>"Under-the-hood"</em></a></li>
<li><a href="#_development_concepts">8.3. <em>Development concepts</em></a></li>
<li><a href="#_operational_concepts">8.4. <em>Operational concepts</em></a></li>
<li><a href="#_safety_and_security_concepts">8.5. <em>Safety and security concepts</em></a></li>
</ul>
</li>
<li><a href="#_architecture_decisions">9. Architecture Decisions</a>
<ul class="sectlevel2">
<li><a href="#ADR-001">9.1. ADR 001: Key Initial Architecture Decisions</a></li>
<li><a href="#ADR-002">9.2. ADR 002: Database Choice - MongoDB</a></li>
<li><a href="#ADR-003">9.3. ADR 003: Adoption of TypeScript and Tailwind CSS</a></li>
<li><a href="#ADR-004">9.4. ADR 004: Wikidata SPARQL Integration</a></li>
<li><a href="#ADR-005">9.5. ADR 005: Oracle Cloud VM for Deployment Infrastructure</a></li>
<li><a href="#ADR-006">9.6. ADR 006: Service-based System Architecture</a></li>
<li><a href="#ADR-007">9.7. ADR 007: Data Storage for Wikidata Information</a></li>
<li><a href="#ADR-008">9.8. ADR 008: Styling Approach - CSS Modules</a></li>
<li><a href="#ADR-009">9.9. ADR 009: Choice and Strategy for Empathy LLM Models</a></li>
<li><a href="#_adr_010_monitoring_strategy">9.10. ADR 010: Monitoring Strategy</a></li>
<li><a href="#_context_10">9.11. Context</a></li>
<li><a href="#_decision_10">9.12. Decision</a></li>
<li><a href="#_adr_011_dns_and_reverse_proxy_setup">9.13. ADR 011: DNS and Reverse Proxy Setup</a></li>
<li><a href="#_adr_012_load_testing_tool_selection">9.14. ADR 012: Load Testing Tool Selection</a></li>
</ul>
</li>
<li><a href="#_quality_requirements">10. Quality Requirements</a>
<ul class="sectlevel2">
<li><a href="#_quality_tree">10.1. Quality Tree</a></li>
<li><a href="#_quality_scenarios">10.2. Quality Scenarios</a></li>
</ul>
</li>
<li><a href="#_risks_and_technical_debts">11. Risks and Technical Debts</a>
<ul class="sectlevel2">
<li><a href="#_technical_risks">11.1. Technical Risks</a></li>
<li><a href="#_technical_debts">11.2. Technical Debts</a></li>
</ul>
</li>
<li><a href="#_testing_and_monitoring">12. Testing and Monitoring</a></li>
<li><a href="#_types_of_tests_implemented">13. Types of Tests Implemented</a></li>
<li><a href="#_glossary">14. Glossary</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<style>
.arc42help {font-size:small; width: 14px; height: 16px; overflow: hidden; position: absolute; right: 0; padding: 2px 0 3px 2px;}
.arc42help::before {content: "?";}
.arc42help:hover {width:auto; height: auto; z-index: 100; padding: 10px;}
.arc42help:hover::before {content: "";}
@media print {
	.arc42help {display:none;}
}
</style>
<div class="paragraph">
<p><strong>About arc42</strong></p>
</div>
<div class="paragraph lead">
<p>arc42, the template for documentation of software and system architecture.</p>
</div>
<div class="paragraph">
<p>Template Version 8.2 EN. (based upon AsciiDoc version), January 2023</p>
</div>
<div class="paragraph">
<p>Created, maintained and &#169; by Dr. Peter Hruschka, Dr. Gernot Starke and contributors.
See <a href="https://arc42.org" class="bare">https://arc42.org</a>.</p>
</div>
<hr>
<div class="sidebarblock arc42help">
<div class="content">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>This version of the template contains some help and explanations.
It is used for familiarization with arc42 and the understanding of the concepts.
For documentation of your own system you use better the <em>plain</em> version.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="_introduction_and_goals">1. Introduction and Goals</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_introduction">1.1. Introduction</h3>
<div class="paragraph">
<p><strong>WIChat</strong> is a project that, following the path of the application developed in the past by the HappySw company, seeks to implement top-notch technologies to take the user experience to the next level when playing this online version of the famous quiz show “Saber y Ganar”.
The project is developed by the company ChattySw, and the development team consists of the following programmers:</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_team_members">2. Team Members</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><strong>Pelayo García Varela</strong><br>
Correo: <a href="mailto:UO294381@uniovi.es">UO294381@uniovi.es</a><br>
GitHub: <a href="https://github.com/ElPandaP">ElPandaP</a></p>
</li>
<li>
<p><strong>Pablo Pérez Álvarez</strong><br>
Correo: <a href="mailto:UO294197@uniovi.es">UO294197@uniovi.es</a><br>
GitHub: <a href="https://github.com/latiose">latiose</a></p>
</li>
<li>
<p><strong>Héctor Hernández Iglesias</strong><br>
Correo: <a href="mailto:UO296095@uniovi.es">UO296095@uniovi.es</a><br>
GitHub: <a href="https://github.com/HernandezIglesiasHector">HernandezIglesiasHector</a></p>
</li>
<li>
<p><strong>Lucas Gisbert López</strong><br>
Correo: <a href="mailto:UO295526@uniovi.es">UO295526@uniovi.es</a><br>
GitHub: <a href="https://github.com/LucasGisb">LucasGisb</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_requirements_overview">2.1. Requirements Overview</h3>
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<div class="title">Contents</div>
<p>Short description of the functional requirements, driving forces, extract (or abstract)
of requirements. Link to (hopefully existing) requirements documents
(with version number and information where to find it).</p>
</div>
<div class="paragraph">
<div class="title">Motivation</div>
<p>From the point of view of the end users a system is created or modified to
improve support of a business activity and/or improve the quality.</p>
</div>
<div class="paragraph">
<div class="title">Form</div>
<p>Short textual description, probably in tabular use-case format.
If requirements documents exist this overview should refer to these documents.</p>
</div>
<div class="paragraph">
<p>Keep these excerpts as short as possible. Balance readability of this document with potential redundancy w.r.t to requirements documents.</p>
</div>
<div class="paragraph">
<div class="title">Further Information</div>
<p>See <a href="https://docs.arc42.org/section-1/">Introduction and Goals</a> in the arc42 documentation.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>To achieve this enhanced application experience, its main functionalities are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>User Registration and Participation History:</strong> Each user will have a personal account where their game data will be stored, allowing them to view their progress at any time.</p>
</li>
<li>
<p><strong>Question and Answer System based on Wikidata:</strong> The various questions, accompanying images, and answer options will be generated based on information gathered from Wikidata.</p>
</li>
<li>
<p><strong>Chatbot and Hint System:</strong> The user will have the optional functionality of a chatbot that, upon request, will provide a series of hints based on information retrieved from Wikidata, guiding them towards the correct answer without revealing it outright.</p>
</li>
<li>
<p><strong>User Interaction with the Application:</strong> The user will interact with the application through a highly intuitive and user-friendly web front-end.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_quality_goals">2.2. Quality Goals</h3>
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<div class="title">Contents</div>
<p>The top three (max five) quality goals for the architecture whose fulfillment is of highest importance to the major stakeholders.
We really mean quality goals for the architecture. Don&#8217;t confuse them with project goals.
They are not necessarily identical.</p>
</div>
<div class="paragraph">
<p>Consider this overview of potential topics (based upon the ISO 25010 standard):</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/01_2_iso-25010-topics-EN.drawio.png" alt="Categories of Quality Requirements">
</div>
</div>
<div class="paragraph">
<div class="title">Motivation</div>
<p>You should know the quality goals of your most important stakeholders, since they will influence fundamental architectural decisions.
Make sure to be very concrete about these qualities, avoid buzzwords.
If you as an architect do not know how the quality of your work will be judged&#8230;&#8203;</p>
</div>
<div class="paragraph">
<div class="title">Form</div>
<p>A table with quality goals and concrete scenarios, ordered by priorities</p>
</div>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Quality Goal</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Usability</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The interface should be intuitive and user-friendly to ensure the user can navigate the application optimally.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Performance</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The system should deliver responses within an acceptable time frame to ensure fast and efficient game sessions.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Accuracy</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The hint generation mechanism should minimize errors and hallucinations to maximize the chatbot’s functionality.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Scalability</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The architecture should allow easy updates and feature expansions, making it adaptable for future improvements.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Security</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Because user well-being and comfort are of paramount importance, user data and interactions must be properly managed and protected.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_stakeholders">2.3. Stakeholders</h3>
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<div class="title">Contents</div>
<p>Explicit overview of stakeholders of the system, i.e. all person, roles or organizations that</p>
</div>
<div class="ulist">
<ul>
<li>
<p>should know the architecture</p>
</li>
<li>
<p>have to be convinced of the architecture</p>
</li>
<li>
<p>have to work with the architecture or with code</p>
</li>
<li>
<p>need the documentation of the architecture for their work</p>
</li>
<li>
<p>have to come up with decisions about the system or its development</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Motivation</div>
<p>You should know all parties involved in development of the system or affected by the system.
Otherwise, you may get nasty surprises later in the development process.
These stakeholders determine the extent and the level of detail of your work and its results.</p>
</div>
<div class="paragraph">
<div class="title">Form</div>
<p>Table with role names, person names, and their expectations with respect to the architecture and its documentation.</p>
</div>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Role/Name</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Expectations</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>RTVE</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>The client commissioning the development of the updated application.</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Get a fully functional app that enhances the existing one by using AI Chat bot.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ChattySw</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>The software development company responsible for taking the project.</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Being able to meet the client&#8217;s needs on time and without any inconvenience.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>API providers</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>WikiData and LLM Service.</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>The external service providing information and the LLM for hint generation.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Final users</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>General players who will use the WIChat application for entertainment and learning.</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Being able to use the application without any impediment and enjoy and learn thanks to it.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Development team</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>The team responsible for developing the application, consisting of the previously mentioned members.</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Develop the application and improve their communication and teamwork skills, taking a step forward toward their professional future.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Evaluators (Teachers)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>The people who will oversee and evaluate the application and its correct development.</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Keep track of project development, resolve development team issues, and evaluate the final product.</em></p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_architecture_constraints">3. Architecture Constraints</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_technical_constraints">3.1. Technical Constraints</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Constraint</th>
<th class="tableblock halign-left valign-top">Explanation</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Deployed Web application</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The application must be deployed on a server and accessible from a browser. In this case, we will use Docker to deploy it.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wikidata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The application will use Wikidata as it will serve as the source of the information displayed in a match&#8217;s questions.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">LLM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The user will be able to obtain hints via a LLM Chatbot.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Documented API</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Alongside with the application, a public API will be provided, with its extensive documentation, which will provide access to users information.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Data management</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">In order to store and manage the information regarding users and matches, it will be kept in a MongoDB database.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tests</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The application must pass a series of tests in order to ensure its functionality; failure of any test will block deployment.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GitHub</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">We will use GitHub for version control and collaboration on the project.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Documentation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The documentation of the entire project will be done following the Arc42 template for better clarity in its details and explanations.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_organizational_constraints">3.2. Organizational Constraints</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Constraint</th>
<th class="tableblock halign-left valign-top">Explanation</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Team of 4 people</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The work will be distributed among the 4 members of the group.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reports</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Every week during the class practice time, we must write minutes documenting what we have done and the next steps to follow.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Issues</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The work assigned to each member will be reflected as issues in GitHub, so that everything is recorded and everyone knows what they have to do.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pull requests</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">In order to improve the workflow and our code consistency, every time a member is about to integrate their work into the main one, another member will review its changes via a Pull Request, requesting changes if seen as necesary.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mid-term evaluations</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Every 3 weeks the project will be checked, and corrections that need to be made for the upcoming days will be noted.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_conventions">3.3. Conventions</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Constraint</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Explanation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Arc42</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The team will follow the Arc42 template in order to structure the project documentation in a consistent and efficient way.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use of English</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">English will be used throughout the project, including documentation, coding, and the GitHub repository, as it is the most widely accepted and understood language in the software development community.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Good coding practices</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The team will adhere to clean code principles such as meaningful naming, modularity, simplicity, and comprehensive documentation.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Branchs usage</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The team will adopt a branching strategy, keeping every issue in its own branch until it is brought to master via a Pull Request.</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
<div class="paragraph">
<p>Wichat is a trivia-like game that retrieves information from Wikimedia and uses it to ask users questions accompanied by images. It also features its own trained AI chatbot to assist users by providing hints.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_context_and_scope">4. Context and Scope</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="./images/03-scope.png" alt="Overall System">
</div>
</div>
<div class="sect2">
<h3 id="_business_context">4.1. Business Context</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Communications</th>
<th class="tableblock halign-left valign-top">Ins</th>
<th class="tableblock halign-left valign-top">Outs</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>User</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Interactions with the application</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Responses to said interactions.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Wichat</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WikiData information, hints and user information</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Various information received from the APIs and the database.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Wikidata</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Requests by the application</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Responses to said requests with the information stored in Wikidata.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Database</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Requests by the application</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stores users information and returns it whenever it is needed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>AI chat bot</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Questions by the user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Responses in text format with hints about the user&#8217;s question, from Empathy.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_technical_context">4.2. Technical Context</h3>
<div class="imageblock">
<div class="content">
<img src="./images/03-context-diagram.PNG" alt="Overall System">
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Service</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">WebApp</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The main web application that serves as the user interface. It communicates with the user agent (browser) to send and receive requests.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GatewayService</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Central API gateway responsible for routing requests from the frontend to internal backend services.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">LLMService</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Service that generates language-based hints by consuming the external Empathy API.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AuthService</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manages user authentication and session handling. It interacts with MongoDB to validate credentials and store tokens.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UserService</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handles user creation and management, including storing user data in MongoDB.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UserInfoAPI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides an API for retrieving user data, primarily used by external API clients. Reads data from MongoDB.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">QuestionService</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Generates quiz or trivia questions using data fetched from the external WikiData API.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GameService</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stores game sessions in MongoDB.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MongoDB</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Internal database that stores persistent data including users, sessions, and game states.</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-solution-strategy">5. Solution Strategy</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_technological_decisions">5.1. Technological decisions</h3>
<div class="ulist">
<ul>
<li>
<p><strong>JavaScript</strong>: Primary programming language for both frontend and backend development in our project. Fit for full-stack development using a single language, reducing context switching.</p>
</li>
<li>
<p><strong>React</strong>: JavaScript library for web and native user interfaces. It allows developers to create interactive web applications by breaking down the UI into reusable components. React uses a declarative approach to efficiently update and render components, resulting in faster and more maintainable code. It&#8217;s widely adopted in the industry due to its simplicity, performance, and robustness.</p>
</li>
<li>
<p><strong>Node.js</strong>: JavaScript runtime that enables running JavaScript code outside of web browsers. It&#8217;s renowned for its event-driven architecture and extensive collection of packages, making it ideal for building scalable server-side applications.</p>
</li>
<li>
<p><strong>Express</strong>: Lightweight framework for Node.js used to build RESTful webs and APIs. Especially useful for the backend development and routing.</p>
</li>
<li>
<p><strong>MongoDB</strong>: popular NoSQL database known for its flexibility and scalability. It stores data in flexible JSON-like documents and is widely used in modern web development for its simplicity and ability to handle large volumes of data.</p>
</li>
<li>
<p><strong>Wikidata</strong>: Wikidata provides a REST API for retrieving information related to any topic. It helps us to dynamically generate questions for our game using it from any programming language.</p>
</li>
<li>
<p><strong>LLM Empathy</strong>: LLM model chosen because, in addition to already having an API key for it, it is especially easy to integrate into the application and works more than correctly to meet the needs of the Chatbot.</p>
</li>
<li>
<p><strong>Arc42</strong>: framework (template) used for documenting and communicating software architectures. It provides a template for describing the architecture of a software system, covering aspects such as stakeholders, requirements, architecture decisions, components, interfaces, and quality attributes. arc42 helps teams create consistent and comprehensible architecture documentation, enabling better communication, understanding, and maintenance of software systems throughout their lifecycle.</p>
</li>
<li>
<p><strong>Swagger:</strong> toolset for designing, building, documenting, and consuming RESTful web services. It allows us to automatically generate interactive API documentation, making it easier for developers to understand and test API endpoints. Swagger improves the transparency, usability, and maintenance of our backend services by ensuring clear and standardized API definitions.</p>
</li>
<li>
<p><strong>npm</strong>: default package manager for Node.js, providing a command-line interface to install, manage, and publish JavaScript packages. With over a million packages available in its registry, npm simplifies adding functionality to Node.js projects by handling dependencies and providing tools for versioning and publishing packages.</p>
</li>
<li>
<p><strong>Oracle server</strong>: Cloud platform used for deploying our application. The team chose Oracle Cloud Infrastructure due to prior experience with its services, which allowed for a smoother and more efficient setup. It provides a reliable environment for hosting our backend, database, and other infrastructure components, supporting scalability and high availability for the game.</p>
</li>
<li>
<p><strong>Docker</strong>: platform that will be used for deploying our services inside containers. Containers are lightweight, portable, and self-sufficient units that contain everything needed to run an application, including the code, runtime, system tools, libraries, and settings. Docker enables developers to package their applications along with all dependencies into containers, ensuring consistency across different environments, such as development, testing, and production.</p>
</li>
<li>
<p><strong>GitHub Actions</strong>: built-in automation tool on GitHub that allows us to automate some workflows that are triggered after some specific github branches actions at development. It provides as continuous integration of the game functionality.</p>
</li>
<li>
<p><strong>GitHub</strong>: Version control and project management platform used for managing our game project. GitHub provides features for collaboration, issue tracking, and code review, facilitating efficient development workflows and team communication.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_architecture_design">5.2. Architecture &amp; Design</h3>
<div class="ulist">
<ul>
<li>
<p><strong>Services based project</strong>: Although not a full microservices architecture, our project is designed in a modular and service-oriented way. Each major functionality is isolated into separate logical units or services that can be developed and maintained independently. This enhances flexibility and maintainability without the complexity of full microservice infrastructure.</p>
</li>
<li>
<p><strong>Containerization with Docker</strong>: We leverage Docker containerization to package each service and its dependencies into lightweight, portable containers. Docker provides a consistent environment across different stages of the development lifecycle, ensuring seamless deployment and scalability. With Docker, we can easily spin up new instances of services, manage dependencies, and streamline our development and deployment workflows.</p>
</li>
<li>
<p><strong>API Gateway</strong>: We employ an API gateway as a centralized entry point for all client requests to our services. The API gateway serves as a reverse proxy, routing incoming requests to the appropriate service based on predefined rules and policies. It provides a unified interface for clients, abstracting the complexity of the underlying system and improving performance, scalability, and security.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_team_organization">5.3. Team Organization</h3>
<div class="paragraph">
<p>For developing this project we are using Github as the control version systems.
The master branch contains the final version of the product, so that every accepted pull request to master branch will be considered as a new release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Documentation</strong>: it must be always updated for making our work valuable and consistent.</p>
</li>
<li>
<p><strong>Weekly meetings</strong>: Weekly discussions about what has been done and what needs to be done will be key for our team success.</p>
</li>
<li>
<p><strong>Github</strong>: this control version systems not only allows us to share and collabortively write code, but also provides other resources such as issues and project management (kanban board) tools for organizing the work to be done. Also, wiki section allows us to save all of our minutes from each scheduled meeting.</p>
</li>
<li>
<p><strong>Whatsapp and Discord</strong>: Allow us to be in constant communication for helping each other out whenever needed.</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_building_block_view">6. Building Block View</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_5_1_whitebox_overall_system">6.1. 5.1 Whitebox Overall System</h3>
<div class="imageblock">
<div class="content">
<img src="./images/05-Level1.PNG" alt="Level 1">
</div>
</div>
<div class="paragraph">
<p>At this level, Wichat is presented as a single building block (whitebox)
that interacts with external actors and systems.
It serves as the central unit responsible for generating trivia questions,
managing gameplay, and assisting users with the help of an AI chatbot.</p>
</div>
<div class="paragraph">
<p>Wichat communicates with the following external entities:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>User</strong>: The player interacts with the application via a browser interface. Users receive questions, provide answers, and can request hints through the UI.</p>
</li>
<li>
<p><strong>Wikidata API</strong>: Wichat sends SPARQL queries to Wikidata to get structured data used for generating trivia questions.</p>
</li>
<li>
<p><strong>Empathy AI Bot</strong>: An external AI service that receives user queries (e.g., help or hints) and returns context-aware suggestions to support the player during the game.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This level provides a high-level understanding of Wichat’s role in the system landscape and lays the foundation for further decomposition in Level 2, where internal components and logic are revealed.</p>
</div>
</div>
<div class="sect2">
<h3 id="_5_2_internal_funcionality">6.2. 5.2 Internal funcionality</h3>
<div class="imageblock">
<div class="content">
<img src="./images/05-Level2.PNG" alt="Level 2">
</div>
</div>
<div class="paragraph">
<p>The system consists of the following top-level components:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>User Interface (UI)</strong>: Developed in React, it handles all user interactions and displays the game content.</p>
</li>
<li>
<p><strong>Game Service</strong>: Manages the game data in database.</p>
</li>
<li>
<p><strong>Question Generator</strong>: Gets data from Wikidata and formats it into quiz questions.</p>
</li>
<li>
<p><strong>Llm Service</strong>: Interfaces with an AI-based hint bot to provide context assistance.</p>
</li>
<li>
<p><strong>User Management</strong>: It is responsible for user registration, users sessions and information about user historical.</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_5_3_1_empathy_connector_llm_service">6.2.1. 5.3.1 Empathy Connector (LLM Service)</h4>
<div class="imageblock">
<div class="content">
<img src="./images/05-Llmservice.PNG" alt="Level 2">
</div>
</div>
<div class="paragraph">
<p>The Empathy Connector encapsulates the logic for communicating with external LLM APIs (EmpathyAI) to generate context-based hints. This module is exposed as a RESTful service and relies on a structured flow of request transformation, API communication, and response handling.</p>
</div>
<div class="sect4">
<h5 id="_components">Components:</h5>
<div class="ulist">
<ul>
<li>
<p><strong>ContextBuilder</strong>: Constructs the full context prompt with game question and answers, including rules and examples.</p>
</li>
<li>
<p><strong>LLMRouter</strong>: Core orchestrator that handles selection of the appropriate LLM (Empathy), builds the request, and sends it to the external API.</p>
</li>
<li>
<p><strong>LLMAPI</strong>:  external API that handles the raw response.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_flow">Flow:</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>ContextBuilder</strong> injects the question/answers into a prompt with behavioral rules.</p>
</li>
<li>
<p><strong>LLMRouter</strong> chooses the configured model and prepares the API request.</p>
</li>
<li>
<p>There is a request to the external API and receives a response.</p>
</li>
<li>
<p>The response is parsed and returned to the client as a concise hint.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Models Supported</strong>:
- <strong>EmpathyAI</strong> (Qwen and Mistral)</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_5_3_2_question_generator">6.2.2. 5.3.2 Question Generator</h4>
<div class="imageblock">
<div class="content">
<img src="./images/05-Wikidata-Diagram.PNG" alt="Level 2">
</div>
</div>
<div class="paragraph">
<p>The Wikidata Question Service encapsulates the logic for generating trivia questions in various categories (capitals, sports, cartoons, and birds) using data obtained from Wikidata. This service is exposed as a RESTful API, and its workflow involves making SPARQL queries to Wikidata, processing the data, and returning dynamic questions.</p>
</div>
<div class="sect4">
<h5 id="_components_2">Components:</h5>
<div class="ulist">
<ul>
<li>
<p><strong>Data Model (Mongoose)</strong>: Uses MongoDB to store the generated questions. The Question model manages the questions and answers for each category.</p>
</li>
<li>
<p><strong>Question Cache</strong>: Maintains an in-memory cache for the questions by category, updating them every hour if necessary.</p>
</li>
<li>
<p><strong>SPARQL Queries (Axios)</strong>: SPARQL requests are made to Wikidata to fetch the necessary data for generating questions and answers.</p>
</li>
<li>
<p><strong>Recently Used Questions</strong>: Tracks questions that have been shown to the user, preventing repetition in a short time frame.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_flow_2">Flow:</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>If questions for the requested category are available in the database, one is randomly selected. If not, new questions are generated by querying Wikidata.</p>
</li>
<li>
<p>The generated questions are stored in the database and the category&#8217;s cache.</p>
</li>
<li>
<p>The system ensures that questions are not repeated by tracking which questions have been used recently.</p>
</li>
<li>
<p>A random question is selected and returned to the client, along with multiple-choice answers and an optional image.</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_mongodb_schema">MongoDB schema:</h5>
<div class="paragraph">
<p>Question:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>text</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The question text shown to the user.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>answers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An array of possible answers. Each answer is an object described below.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>image</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) URL to an image related to the question.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>category</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A label indicating the thematic category of the question.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Answer Subdocument:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>correct</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean value indicating whether the answer is correct.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>text</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The content of the answer.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>selected</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean flag to track whether the user selected this answer (used at runtime).</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_supported_categories">Supported Categories:</h5>
<div class="ulist">
<ul>
<li>
<p><strong>Capitals</strong>: Questions about the capitals of countries.</p>
</li>
<li>
<p><strong>Sports</strong>: Questions about sports teams, specifically football.</p>
</li>
<li>
<p><strong>Cartoons</strong>: Questions about cartoon characters.</p>
</li>
<li>
<p><strong>Birds</strong>: Questions about bird species</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_5_3_3_user_management">6.2.3. 5.3.3 User Management</h4>
<div class="imageblock">
<div class="content">
<img src="./images/05-User%20management.PNG" alt="Level 2">
</div>
</div>
<div class="paragraph">
<p>In the user management we do everything about users data and sessions.</p>
</div>
<div class="sect4">
<h5 id="_components_3">Components:</h5>
<div class="ulist">
<ul>
<li>
<p><strong>Auth Service</strong>: It&#8217;s used to manage the user&#8217;s session in /login</p>
</li>
<li>
<p><strong>User info Api</strong>: It takes the users data from game in database</p>
</li>
<li>
<p><strong>Users service</strong>: It manages the new users</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_mongodb_schema_2">MongoDB schema:</h5>
<div class="paragraph">
<p>Session:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>username</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The user&#8217;s unique identifier or name (stored as a string).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>password</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The user&#8217;s hashed password (stored as a string).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>createdAt</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The timestamp indicating when the user account was created.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_5_3_4_game_service">6.2.4. 5.3.4 <strong>Game Service</strong></h4>
<div class="paragraph">
<p>The game Service is in charge of saving the match historic.
The exposed route is <strong>/addMatch</strong>.</p>
</div>
<div class="sect4">
<h5 id="_flow_3">Flow</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Store Question and Answer</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>The question and selected answers are stored in the database.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Update User Statistics</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>User statistics are calculated based on the correct and incorrect answers and the time spent on the match.</p>
</li>
<li>
<p>The final score is calculated using the match&#8217;s difficulty, correct and incorrect answers, and saved in the <strong>Match</strong> model.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Retrieve User Statistics and Matches</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>The client can make GET requests to /userStatistics and /userMatches to get the user&#8217;s statistics and matches, respectively.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_mongodb_schema_3">MongoDB schema:</h5>
<div class="paragraph">
<p>Matches:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>username</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the user who played the match.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>date</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Date and time the match was played.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>difficulty</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Game difficulty level: <code>1</code> for normal, <code>2</code> for hard.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>score</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Final score obtained in the match.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>time</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Total time (in seconds) taken to complete the match.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>questions</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array of question objects used in the match (described below).</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Questions:</p>
</div>
<div class="paragraph">
<p>Each question includes text and a list of possible answers.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>text</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Question prompt shown to the user.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>answers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of answer options (see next table).</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Answers:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>text</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Text content of the answer option.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>correct</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean indicating if this is the correct answer.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>selected</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean indicating if the user selected this answer.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_5_3_5_gateway">6.2.5. 5.3.5 Gateway</h4>
<div class="paragraph">
<p><strong>Gateway</strong> serves as the <strong>central entry point</strong> for all client requests. Its main purpose is to <strong>orchestrate communication</strong> between different services, simplifying and unifying access to your backend system.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>API Aggregation</strong>: Combines multiple services (authentication, game logic, user management, LLM, Wikidata) under a single API, so clients don&#8217;t need to call each one individually.</p>
</li>
<li>
<p><strong>Routing</strong>: Forwards incoming HTTP requests to the appropriate internal service (e.g., /login goes to Auth Service, /addMatch goes to Game Service).</p>
</li>
<li>
<p><strong>Simplifies Client Logic</strong>: The frontend only communicates with one service (the Gateway), instead of interacting with each backend service separately.</p>
</li>
<li>
<p><strong>Monitoring</strong>: Integrates Prometheus metrics to monitor endpoint usage and performance.</p>
</li>
<li>
<p><strong>Error Handling</strong>: Standardizes error responses from all internal services before returning them to the client.</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect2">
<h3 id="_registering_an_user">6.3. Registering an user</h3>
<div class="paragraph">
<p>Scenario 1: Registering as a new user or log in as an existing user.
&nbsp;</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="./images/06-registering.png" alt="Runtime view - Registering User"></span></p>
</div>
<div class="paragraph">
<p>&nbsp;</p>
</div>
<div class="paragraph">
<p>When a new user registers, the process starts on the front end, where they enter their details. The front end then sends this information to the back end, which validates it, ensuring, for example, that the username isn’t already taken and meets minimum length requirements. Once the data is verified, it is stored in the database, then the user is finally notified that their account has been succesfully created and they can low log in.</p>
</div>
</div>
<div class="sect2">
<h3 id="_logging_in">6.4. Logging in</h3>
<div class="paragraph">
<p>&nbsp;</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="./images/06-login.png" alt="Runtime view - Logging in"></span></p>
</div>
<div class="paragraph">
<p>&nbsp;</p>
</div>
<div class="paragraph">
<p>When it comes to logging in, the user firstly enters their credentials, then the back end retrieves the user&#8217;s information from the database and verifies if it&#8217;s correct.</p>
</div>
</div>
<div class="sect2">
<h3 id="_questions_generation">6.5. Questions generation</h3>
<div class="paragraph">
<p>&nbsp;</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="./images/06-questionGeneration.png" alt="Runtime view - Question generation"></span></p>
</div>
<div class="paragraph">
<p>&nbsp;</p>
</div>
<div class="paragraph">
<p>The user accesses the game, selects its mode and difficulty, and the call is made. The backend is responsible for obtaining the questions (along with their images and answers) and transmitting them to the frontend.</p>
</div>
</div>
<div class="sect2">
<h3 id="_wichat_quiz_game">6.6. WiChat quiz game</h3>
<div class="paragraph">
<p>&nbsp;</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="./images/06-gameCycle.png" alt="Runtime view - Game cycle"></span></p>
</div>
<div class="paragraph">
<p>&nbsp;</p>
</div>
<div class="paragraph">
<p>The user enters the game, selects the mode and difficulty, and once the question is answered, the user begins the game, answering each question until the timer runs out, ending the game. After the game ends, and after the information has been saved, the user can replay the game or access other views.</p>
</div>
</div>
<div class="sect2">
<h3 id="_obtaining_hints_via_chatbot">6.7. Obtaining hints via Chatbot</h3>
<div class="paragraph">
<p>&nbsp;</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="./images/06-chatBotFunctionality.png" alt="Runtime view - Hints by chatbot"></span></p>
</div>
<div class="paragraph">
<p>&nbsp;</p>
</div>
<div class="paragraph">
<p>In the Game view, the user types their questions into the Chatbot component, which are then sent to the LLM, where the prompt to be passed to the AI ​​is configured and the response is generated, which is then returned to the frontend for the user to view.</p>
</div>
</div>
<div class="sect2">
<h3 id="_leaderboard_and_match_search">6.8. Leaderboard and match search</h3>
<div class="paragraph">
<p>&nbsp;</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="./images/06-leaderboardAndSearch.png" alt="Runtime view - Leaderboard and match search"></span></p>
</div>
<div class="paragraph">
<p>&nbsp;</p>
</div>
<div class="paragraph">
<p>When the user accesses the Leaderboard, the system loads ranking and user data, while also allowing the user to search for specific user&#8217;s games by entering its name in the search bar.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_deployment_view">7. Deployment View</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_infrastructure_level_1">7.1. Infrastructure Level 1</h3>
<div class="imageblock">
<div class="content">
<img src="./images/03-context-diagram.PNG" alt="Deployment View">
</div>
</div>
<div class="sect3">
<h4 id="_motivation">7.1.1. Motivation</h4>
<div class="paragraph">
<p>The deployment diagram provides a clear overview of the system&#8217;s architecture, illustrating how its components interact and are distributed. It helps visualize the structure within a <strong>Dockerized</strong> environment, showing the connections between the web server, database, external APIs, and client. This diagram makes it easier to understand how services are organized and integrated, providing an accessible overview for development, operations, and management teams.</p>
</div>
</div>
<div class="sect3">
<h4 id="_quality_andor_performance_features">7.1.2. Quality and/or Performance Features</h4>
<div class="ulist">
<ul>
<li>
<p><strong>Containerized deployment</strong> ensures environment consistency across development, staging, and production environments. All services—such as authservice, userservice, gatewayservice, and gameservice—run inside Docker containers, ensuring parity across all deployment stages and simplifying testing and debugging.</p>
</li>
<li>
<p><strong>Lightweight Docker containers</strong> enable rapid scalability. Each service can be deployed or updated independently, allowing faster delivery cycles and horizontal scaling with minimal manual intervention.</p>
</li>
<li>
<p><strong>Decoupling of backend from external APIs</strong>, such as <strong>Wikidata</strong> and <strong>Empathy</strong>, improves maintainability. Since services like questionservice and llmservice interact with these APIs via well-defined interfaces, they can be updated or replaced without impacting core infrastructure—enhancing resilience and reducing downtime risk.</p>
</li>
<li>
<p><strong>Stateless backend services</strong> (like authservice, llmservice`, gameservice) allow for horizontal scaling. Because user state is stored in <strong>MongoDB</strong>, new instances of services can be added seamlessly to manage load spikes, ensuring reliable performance under high demand.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_mapping_of_building_blocks_to_infrastructure">7.1.3. Mapping of Building Blocks to Infrastructure</h4>
<div class="paragraph">
<p>The application is deployed in a fully <strong>Dockerized environment</strong>, with each service fulfilling a specific role within the system. The infrastructure is composed of:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Frontend (WebApp)</strong>: The webapp provides the user interface and communicates with the gatewayservice. It handles user interactions and routes requests to the backend. It&#8217;s designed to be scalable and decoupled from the logic layer.</p>
</li>
<li>
<p><strong>API Gateway</strong>: The gatewayservice acts as the central point of entry to backend services. It handles request routing, service discovery, and authentication, forwarding requests to userservice, authservice, gameService, userinfoapi, llmservice, or wikidata as needed.</p>
</li>
<li>
<p><strong>Backend Services</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>authservice: Handles authentication and session management.</p>
</li>
<li>
<p>userservice: Manages user registration and profile data.</p>
</li>
<li>
<p>userinfoapi: Exposes user data to external consumers.</p>
</li>
<li>
<p>llmservice: Connects to the <strong>Empathy API</strong> to generate empathetic hints.</p>
</li>
<li>
<p>wikidata: Interfaces with the <strong>Wikidata API</strong> to retrieve factual information.</p>
</li>
<li>
<p>gameService: Manages the matches data.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Database Layer</strong>: A centralized <strong>MongoDB</strong> instance provides persistent storage for users, sessions, and game data. All services needing storage interact through this database.</p>
</li>
<li>
<p><strong>Client-Server Communication</strong>: Users access the system via a browser (webapp), which communicates with the gatewayservice. From there, requests are routed to internal services depending on their nature (authentication, game interaction, user info, etc.).</p>
</li>
<li>
<p><strong>Backend-API Communication</strong>: The llmservice and wikidata services interact with external APIs, enabling integration with third-party data sources and AI-based services.</p>
</li>
<li>
<p><strong>Scalability and Resilience</strong>: The container-based approach enables scalable deployment of individual services. If load increases, instances of services can be added independently. This architecture supports high availability, rapid recovery, and efficient resource usage.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In summary, the system architecture follows modern cloud-native best practices, ensuring high performance, maintainability, scalability, and fault tolerance. It is well-suited for dynamic environments where flexibility and uptime are critical.</p>
</div>
<div class="paragraph">
<p>The port in which service is launched are the followings:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Service</th>
<th class="tableblock halign-left valign-top">Exposed Port</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>mongodb</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">27017</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>authservice</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8002</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">userservice_</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8001</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>userinfoapi</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8005</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>llmservice</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8003</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>gatewayservice</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8000</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>webapp</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3000</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>gameservice</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8004</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>wikidata</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3005</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_cross_cutting_concepts">8. Cross-cutting Concepts</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_domain_concepts">8.1. <em>Domain concepts</em></h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Class</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Explanation</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">User</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The people using the application, playing matches and generating statistics of their own.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Statistics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Given the performance of the player in its matches, relevant information is stored.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Match</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Created when the user starts a game and includes its general information and generated questions.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Question</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Questions spawned in a match, storing all its answers.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Answer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Every answer associated to a match&#8217;s question, saving if it was the correct option and if was selected by the player.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><span class="image"><img src="./images/08-domainModel.png" alt="Concepts - Domain Model"></span></p>
</div>
</div>
<div class="sect2">
<h3 id="_under_the_hood">8.2. <em>"Under-the-hood"</em></h3>
<div class="ulist">
<ul>
<li>
<p><strong>Backend</strong>:
The server-side logic of the application is implemented using Node.js in combination with the Express framework. The backend handles client requests, communicates with external services such as Wikidata and Empathy, manages user sessions, interacts with the database and other functionalities.</p>
</li>
<li>
<p><strong>Frontend</strong>:
The frontend is developed using React, a component-based JavaScript library that enables the creation of dynamic and interactive user interfaces. The frontend is responsible for rendering the game interface, managing user input, and presenting questions, hints, and scores.</p>
</li>
<li>
<p><strong>Database and persistence</strong>:
MongoDB serves as the main data store, offering a flexible document-oriented model that aligns well with the evolving structure of game data. It stores user profiles, game progress, generated questions, and historical results in JSON-like documents.</p>
</li>
<li>
<p><strong>LLM Integration</strong>:
We utilize Empathy, a Large Language Model (LLM), to enhance the gameplay experience by generating intelligent and context-aware hints for each question in real time.</p>
</li>
<li>
<p><strong>External Data Source</strong>:
To keep the game content rich and dynamic, we integrate Wikidata as our primary external knowledge source. Through its public REST API, we query up-to-date and structured information about a wide range of topics. This enables automatic generation of questions based on real-world data.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_development_concepts">8.3. <em>Development concepts</em></h3>
<div class="ulist">
<ul>
<li>
<p><strong>Continuous integration and development</strong>
Our way of working with github is having one developing branch towards which all pull requests are done
and have to be reviewed by at least one team member.
Sonar Cloud is set up so we know the testing coverage and whether we pass the quality gate with every pull request.
Once there is enough change in the develop branch with respect to the main one and it has enough quality we can
merge them and make a release.</p>
</li>
<li>
<p><strong>Testings</strong>
One of the most important aspects is testing our application, and to achieve this, we will conduct different types of tests. On one hand, we will perform tests such as unit testing and usability testing. On the other hand, we will implement a continuous testing system using GitHub Actions, ensuring that all commits pass the required tests.</p>
</li>
<li>
<p><strong>Docker</strong>
Docker is used to ensure consistent environments across development, testing, and deployment. By containerizing the application, we can avoid issues related to local setup differences and dependency mismatches.</p>
</li>
<li>
<p><strong>GitHub Actions</strong>
GitHub Actions is integrated into our repository to automate key parts of the development lifecycle. We use it for continuous integration (CI), running automated tests on every push or pull request, and checking code quality with SonarCloud. Additionally, it supports continuous deployment workflows by enabling the automatic building and deployment of Docker containers when changes are merged into the main branch.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_operational_concepts">8.4. <em>Operational concepts</em></h3>
<div class="ulist">
<ul>
<li>
<p><strong>Gateway service routing</strong>
We will use a speciallized service that will route the requests to the corresponding service, acting as
a single entry point for the application. Requests to the services are much simpler as only the api base
endpoint and the action needs to be known and the gateway can also act as a filter to manage requests
conditionally if needed. This approach also favors security as we can control which requests are actually
sent based on its content or the context of the app.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_safety_and_security_concepts">8.5. <em>Safety and security concepts</em></h3>
<div class="ulist">
<ul>
<li>
<p><strong>Secure storage</strong>
User passwords are never stored in plain text. Instead, secure hashing algorithms and encryption techniques are employed to protect sensitive information and prevent unauthorized access.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Security redirections</strong>
The app redirects you to the login page if you try to access features that requires you to be logged while you are not.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_architecture_decisions">9. Architecture Decisions</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="ADR-001">9.1. ADR 001: Key Initial Architecture Decisions</h3>
<div class="paragraph">
<p><strong>Status: Accepted</strong>
<strong>:date: 23/02/2025</strong></p>
</div>
<div class="sect3">
<h4 id="_context">9.1.1. Context</h4>
<div class="paragraph">
<p>At the very beginning of the project, it was necessary to establish a strong technological foundation.
These initial decisions were made based on team expertise, project requirements, and the need for scalability, maintainability, and efficient development practices.</p>
</div>
</div>
<div class="sect3">
<h4 id="_decision">9.1.2. Decision</h4>
<div class="paragraph">
<p>The following initial architectural decisions were made:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Frontend:</strong> React</p>
</li>
<li>
<p><strong>Backend:</strong> JavaScript with Node.js and Express (see <a href="#ADR-003">ADR 003: Adoption of TypeScript and Tailwind CSS</a>)</p>
</li>
<li>
<p><strong>Database:</strong> MongoDB (see <a href="#ADR-002">ADR 002: Database Choice - MongoDB</a>)</p>
</li>
<li>
<p><strong>Deployment:</strong> Docker</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_reasoning">9.1.3. Reasoning</h4>
<div class="ulist">
<ul>
<li>
<p><strong>React</strong> provides a robust, component-based framework ideal for building dynamic and scalable user interfaces.</p>
</li>
<li>
<p><strong>JavaScript/Node.js and Express</strong> ensures full-stack JavaScript development, simplifying the technology stack and improving development efficiency.</p>
</li>
<li>
<p><strong>Docker</strong> offers containerization, enabling consistent deployment across different environments and simplifying the CI/CD process.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_consequences">9.1.4. Consequences</h4>
<div class="ulist">
<ul>
<li>
<p>Unified technology stack using JavaScript for both frontend and backend.</p>
</li>
<li>
<p>Simplified developer onboarding and cross-functional collaboration.</p>
</li>
<li>
<p>Easier scaling and deployment of applications thanks to containerization.</p>
</li>
<li>
<p>Requires team members to be familiar with Docker and container management best practices.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ADR-002">9.2. ADR 002: Database Choice - MongoDB</h3>
<div class="paragraph">
<p><strong>Status: Accepted</strong>
<strong>:date: 23/02/2025</strong></p>
</div>
<div class="sect3">
<h4 id="_context_2">9.2.1. Context</h4>
<div class="paragraph">
<p>A flexible, scalable database was needed to manage our data efficiently.
The project demands agility to handle evolving data structures, rapid development, and scalability.</p>
</div>
</div>
<div class="sect3">
<h4 id="_decision_2">9.2.2. Decision</h4>
<div class="paragraph">
<p>MongoDB was chosen as the primary database.</p>
</div>
</div>
<div class="sect3">
<h4 id="_reasoning_2">9.2.3. Reasoning</h4>
<div class="ulist">
<ul>
<li>
<p>Document-based model suits the dynamic nature of the data.</p>
</li>
<li>
<p>High scalability and replication features out-of-the-box.</p>
</li>
<li>
<p>Wide developer familiarity and strong community support.</p>
</li>
<li>
<p>Flexible schema design allows for rapid iteration and prototyping.</p>
</li>
<li>
<p>Better integration with JSON than other alternatives like SQL.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_alternatives_considered">9.2.4. Alternatives considered</h4>
<div class="paragraph">
<p><strong>Relational Databases (e.g., PostgreSQL, MySQL)</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Pros:</p>
<div class="ulist">
<ul>
<li>
<p>Strong data integrity with ACID transactions.</p>
</li>
<li>
<p>Mature ecosystem, rich tooling, and widespread knowledge.</p>
</li>
<li>
<p>Powerful querying capabilities with SQL.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Cons:</p>
<div class="ulist">
<ul>
<li>
<p>Rigid schemas could slow down development during early, rapidly changing phases.</p>
</li>
<li>
<p>Higher initial overhead in schema design and migrations.</p>
</li>
<li>
<p>Potential impedance mismatch when handling unstructured or flexible data.</p>
</li>
<li>
<p>Wasn&#8217;t integrated on the initial project.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_consequences_2">9.2.5. Consequences</h4>
<div class="ulist">
<ul>
<li>
<p>Simplified data modeling suited for flexible and evolving requirements.</p>
</li>
<li>
<p>Need for developers to understand and handle eventual consistency patterns.</p>
</li>
<li>
<p>Potential trade-offs in transactional guarantees compared to traditional relational databases.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ADR-003">9.3. ADR 003: Adoption of TypeScript and Tailwind CSS</h3>
<div class="paragraph">
<p><strong>Status: Proposed and Rejected</strong>
<strong>:date: 16/03/2025</strong></p>
</div>
<div class="sect3">
<h4 id="_context_3">9.3.1. Context</h4>
<div class="paragraph">
<p>At the beginning of the project, we considered adopting TypeScript as the main programming language.
The integration with JavaScript would allow us to leverage static typing, improve code readability, and enhance maintainability.
Additionally, we planned to combine TypeScript with Tailwind CSS for styling frontend components, aiming for a consistent and rapid UI development process.</p>
</div>
</div>
<div class="sect3">
<h4 id="_decision_3">9.3.2. Decision</h4>
<div class="paragraph">
<p>Ultimately, the decision to adopt TypeScript and Tailwind was rejected.
The project continued using JavaScript as the primary development language.</p>
</div>
</div>
<div class="sect3">
<h4 id="_reasoning_3">9.3.3. Reasoning</h4>
<div class="ulist">
<ul>
<li>
<p>TypeScript offered significant advantages in terms of type safety, better tooling, and enhanced code quality.</p>
</li>
<li>
<p>Tailwind CSS promised faster and more consistent frontend development.</p>
</li>
<li>
<p>However, serious compatibility issues arose with the project&#8217;s foundational base and its critical dependencies when integrating TypeScript. JavaScript, on the other hand, ensured full compatibility with existing dependencies and leveraged the team&#8217;s strong prior experience.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_alternatives_considered_2">9.3.4. Alternatives considered</h4>
<div class="ulist">
<ul>
<li>
<p>Continue using <strong>JavaScript</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Pros:</p>
<div class="ulist">
<ul>
<li>
<p>Full compatibility with existing project dependencies.</p>
</li>
<li>
<p>Immediate development without additional configuration overhead.</p>
</li>
<li>
<p>Team proficiency already high.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Cons:</p>
<div class="ulist">
<ul>
<li>
<p>Lack of static typing, increasing potential runtime errors.</p>
</li>
<li>
<p>Slightly lower long-term maintainability compared to TypeScript.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_consequences_3">9.3.5. Consequences</h4>
<div class="ulist">
<ul>
<li>
<p>Development continued smoothly without facing critical integration issues.</p>
</li>
<li>
<p>Future migration to TypeScript remains a possibility, but would require significant planning and dependency refactoring.</p>
</li>
<li>
<p>Styling strategies were adjusted, favoring traditional CSS Modules instead of Tailwind CSS for frontend components.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ADR-004">9.4. ADR 004: Wikidata SPARQL Integration</h3>
<div class="paragraph">
<p><strong>Status: Accepted</strong>
<strong>:date: 16/03/2025</strong></p>
</div>
<div class="sect3">
<h4 id="_context_4">9.4.1. Context</h4>
<div class="paragraph">
<p>The application requires retrieving rich, structured information from Wikidata to answer user questions and enrich the user experience with semantic data.
Given the complexity of the data relationships and the dynamic nature of the content, a robust and standardized query mechanism was needed.</p>
</div>
</div>
<div class="sect3">
<h4 id="_decision_4">9.4.2. Decision</h4>
<div class="paragraph">
<p>SPARQL was adopted as the primary method for querying Wikidata.</p>
</div>
</div>
<div class="sect3">
<h4 id="_reasoning_4">9.4.3. Reasoning</h4>
<div class="ulist">
<ul>
<li>
<p>SPARQL is the native query language for RDF datasets like Wikidata.</p>
</li>
<li>
<p>It allows highly expressive queries involving relationships between entities, filters, and complex graph traversals.</p>
</li>
<li>
<p>Wikidata provides a public SPARQL endpoint (Wikidata Query Service), eliminating the need to host or maintain a local copy of the dataset.</p>
</li>
<li>
<p>Supports real-time access to the most up-to-date knowledge base.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_consequences_4">9.4.4. Consequences</h4>
<div class="ulist">
<ul>
<li>
<p>Enables powerful and flexible data retrieval directly from Wikidata.</p>
</li>
<li>
<p>Introduces a dependency on the availability and performance of the public SPARQL endpoint.</p>
</li>
<li>
<p>Requires developers to learn and work with SPARQL syntax and semantic web concepts.</p>
</li>
<li>
<p>May necessitate caching strategies or fallback plans to mitigate latency or downtime.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ADR-005">9.5. ADR 005: Oracle Cloud VM for Deployment Infrastructure</h3>
<div class="paragraph">
<p><strong>Status: Accepted</strong>
<strong>:date: 23/02/2025</strong></p>
</div>
<div class="sect3">
<h4 id="_context_5">9.5.1. Context</h4>
<div class="paragraph">
<p>The application required a virtualized environment to deploy the frontend, backend services, the database, and monitoring tools. Initially, Microsoft Azure was considered as the deployment platform due to its popularity and having almost every member of the team some level of experince, thanks to having used it in other subjects.</p>
</div>
<div class="paragraph">
<p>However, during early planning, one team member already had access to an Oracle Cloud VM instance that was partially configured and available for use. This presented an opportunity to streamline deployment efforts and reduce setup time and cost.</p>
</div>
</div>
<div class="sect3">
<h4 id="_decision_5">9.5.2. Decision</h4>
<div class="paragraph">
<p>The team decided to use an Oracle Cloud VM instance to host the project infrastructure.</p>
</div>
</div>
<div class="sect3">
<h4 id="_reasoning_5">9.5.3. Reasoning</h4>
<div class="ulist">
<ul>
<li>
<p>Immediate availability of an Oracle Cloud VM already partially configured.</p>
</li>
<li>
<p>Team member already had experience managing this VM, including port configuration and service setup.</p>
</li>
<li>
<p>Avoids incurring additional cloud infrastructure costs.</p>
</li>
<li>
<p>Simplifies initial deployment and testing.</p>
</li>
<li>
<p>With Oracle Cloud VM we can have the aplicattion deployed 24/7.</p>
</li>
<li>
<p>In case anyone have to do any kind of work on the VM, giving access to it is simple because only SSH key and the IP are required.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_alternatives_considered_3">9.5.4. Alternatives considered</h4>
<div class="paragraph">
<p><strong>Azure Virtual Machines (Microsoft Azure)</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Pros:</p>
<div class="ulist">
<ul>
<li>
<p>Well-documented and widely adopted cloud platform.</p>
</li>
<li>
<p>Integrated monitoring, CI/CD tools, and scalability features.</p>
</li>
<li>
<p>Easier to integrate with enterprise authentication or other Azure-based services.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Cons:</p>
<div class="ulist">
<ul>
<li>
<p>Requires account setup, configuration, and billing.</p>
</li>
<li>
<p>Team would need time to familiarize with the environment.</p>
</li>
<li>
<p>No immediate advantage over the already available Oracle VM at this stage.</p>
</li>
<li>
<p>In case we have used Azure, we would be obligated to turn on and off the application whenever it is necessary.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_consequences_5">9.5.5. Consequences</h4>
<div class="ulist">
<ul>
<li>
<p>Faster initial deployment due to use of an already prepared environment.</p>
</li>
<li>
<p>Reduced cloud infrastructure cost during the development.</p>
</li>
<li>
<p>May require future migration or scaling strategy if the project grows or if Oracle Cloud VM limitations become restrictive.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ADR-006">9.6. ADR 006: Service-based System Architecture</h3>
<div class="paragraph">
<p><strong>Status: Accepted</strong>
<strong>:date: 23/02/2025</strong></p>
</div>
<div class="sect3">
<h4 id="_context_6">9.6.1. Context</h4>
<div class="paragraph">
<p>In designing the backend system, the team considered different architectural styles to support modularity, maintainability, and scalability.
A pure microservices architecture was initially discussed and followed due to its popularity and the main project was built in a microservice based architecture.
However, during the development of the application, a service-based architecture was chosen instead.</p>
</div>
</div>
<div class="sect3">
<h4 id="_decision_6">9.6.2. Decision</h4>
<div class="paragraph">
<p>The project adopts a service-based architecture, rather than a fully decoupled microservices model.</p>
</div>
</div>
<div class="sect3">
<h4 id="_reasoning_6">9.6.3. Reasoning</h4>
<div class="ulist">
<ul>
<li>
<p>Provides modularization and separation of concerns without the overhead of managing independent deployments for each service.</p>
</li>
<li>
<p>Simplifies inter-service communication by avoiding complex patterns such as service discovery, load balancing, and distributed configuration.</p>
</li>
<li>
<p>Better aligns with the existing project base and team size, facilitating easier maintenance and deployment.</p>
</li>
<li>
<p>Reduces initial development and operational complexity.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_alternatives_considered_4">9.6.4. Alternatives considered</h4>
<div class="paragraph">
<p><strong>Pure Microservices Architecture</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Pros:</p>
<div class="ulist">
<ul>
<li>
<p>Strong decoupling, allowing for independent scaling and deployment of services.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Cons:</p>
<div class="ulist">
<ul>
<li>
<p>Overkill for small or medium-sized teams and projects with limited domain boundaries.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_consequences_6">9.6.5. Consequences</h4>
<div class="ulist">
<ul>
<li>
<p>Enables a modular structure where services are separated logically but may coexist within the application itself.</p>
</li>
<li>
<p>Facilitates faster development and easier testing given its monolithichal nature with less enviroment complexity.</p>
</li>
<li>
<p>Allows future evolution toward microservices if project requirements grow.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ADR-007">9.7. ADR 007: Data Storage for Wikidata Information</h3>
<div class="paragraph">
<p><strong>Status: Accepted</strong>
<strong>:date: 16/03/2025</strong></p>
</div>
<div class="sect3">
<h4 id="_context_7">9.7.1. Context</h4>
<div class="paragraph">
<p>Initially, the application fetched data from Wikidata in real time during gameplay to generate questions dynamically.
However, this approach caused severe performance issues, resulting in noticeable delays that degraded the user experience during matches.</p>
</div>
</div>
<div class="sect3">
<h4 id="_decision_7">9.7.2. Decision</h4>
<div class="paragraph">
<p>To improve performance, the application now pre-generates and stores a set of questions in the database and cache at the start of each game.
These stored questions are then served to the user dynamically throughout the match, minimizing latency.</p>
</div>
</div>
<div class="sect3">
<h4 id="_reasoning_7">9.7.3. Reasoning</h4>
<div class="ulist">
<ul>
<li>
<p>Real-time queries to Wikidata introduced unpredictable delays and negatively impacted gameplay flow.</p>
</li>
<li>
<p>Preloading questions ensures smooth and uninterrupted user experience.</p>
</li>
<li>
<p>Reduces dependency on external services during active sessions, making the game more stable and reliable.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_alternatives_considered_5">9.7.4. Alternatives considered</h4>
<div class="paragraph">
<p><strong>Inserting loading screens between questions</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Pros:</p>
<div class="ulist">
<ul>
<li>
<p>Would allow real-time querying to continue without significant architectural changes.</p>
</li>
<li>
<p>Could be visually appealing with the right UI/UX design.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Cons:</p>
<div class="ulist">
<ul>
<li>
<p>Did not solve the root performance issue — only masked it.</p>
</li>
<li>
<p>Introduced unwanted pauses that disrupted the game&#8217;s pacing and fluidity.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_consequences_7">9.7.5. Consequences</h4>
<div class="ulist">
<ul>
<li>
<p>Game sessions begin with a brief setup phase where questions are fetched and stored.</p>
</li>
<li>
<p>Once the session starts, question delivery is fast and reliable, improving overall experience.</p>
</li>
<li>
<p>The system is now more resilient to outages or slowdowns in the Wikidata SPARQL endpoint.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ADR-008">9.8. ADR 008: Styling Approach - CSS Modules</h3>
<div class="paragraph">
<p><strong>Status: Accepted</strong>
<strong>:date: 16/03/2025</strong></p>
</div>
<div class="sect3">
<h4 id="_context_8">9.8.1. Context</h4>
<div class="paragraph">
<p>Maintaining scoped styles without introducing unnecessary complexity.</p>
</div>
</div>
<div class="sect3">
<h4 id="_decision_8">9.8.2. Decision</h4>
<div class="paragraph">
<p>Use CSS Modules for styling, with partial hybridization where needed.</p>
</div>
</div>
<div class="sect3">
<h4 id="_reasoning_8">9.8.3. Reasoning</h4>
<div class="ulist">
<ul>
<li>
<p>Keeps styles encapsulated.</p>
</li>
<li>
<p>Allows flexibility where global styles are needed.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_consequences_8">9.8.4. Consequences</h4>
<div class="ulist">
<ul>
<li>
<p>Mixed styling approach may introduce slight overhead.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ADR-009">9.9. ADR 009: Choice and Strategy for Empathy LLM Models</h3>
<div class="paragraph">
<p><strong>Status: Accepted</strong>
<strong>:date: 07/04/2025</strong></p>
</div>
<div class="sect3">
<h4 id="_context_9">9.9.1. Context</h4>
<div class="paragraph">
<p>To implement the chatbot system that provides hints during gameplay, the project required integration with a Large Language Model (LLM). The goal was to offer accurate, responsive, and trustworthy hints, as this directly affects the player&#8217;s experience and engagement.</p>
</div>
<div class="paragraph">
<p>Initially, the team selected the <strong>Qwen2.5-Coder-7B-Instruct</strong> model from the Empathy LLM platform given he had access thanks to the API Key provided to us. However, as development progressed, it became apparent that system outages or instability in the LLM provider could render the chatbot feature temporarily unusable — severely impacting reliability.</p>
</div>
</div>
<div class="sect3">
<h4 id="_decision_9">9.9.2. Decision</h4>
<div class="paragraph">
<p>We implemented a dual-model system using both <strong>Qwen2.5-Coder-7B-Instruct</strong> and <strong>Mistral-7B-Instruct-v0.3</strong>, both available through Empathy LLM. The application now automatically switches between the two models depending on their availability, ensuring continued service during partial outages.</p>
</div>
</div>
<div class="sect3">
<h4 id="_reasoning_9">9.9.3. Reasoning</h4>
<div class="ulist">
<ul>
<li>
<p>Qwen2.5-Coder-7B-Instruct was initially chosen as it shown less tendency to cause hallucinations.</p>
</li>
<li>
<p>However, Qwen showed higher sensitivity to downtime and occasional availability issues during use.</p>
</li>
<li>
<p>Mistral-7B-Instruct-v0.3, while slightly more verbose, provided reliable backup behavior and acceptable quality.</p>
</li>
<li>
<p>The switch-over mechanism improves fault tolerance without significantly degrading response quality.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_alternatives_considered_6">9.9.4. Alternatives considered</h4>
<div class="paragraph">
<p><strong>Switch entirely to Mistral</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Pros:</p>
<div class="ulist">
<ul>
<li>
<p>More stable availability during testing.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Cons:</p>
<div class="ulist">
<ul>
<li>
<p>Lower quality in guided, instructional prompts; less aligned with user needs.</p>
</li>
<li>
<p>Returning to a single-model setup would reintroduce the same availability risks — if Mistral fails, the chatbot would again become unusable.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_consequences_9">9.9.5. Consequences</h4>
<div class="ulist">
<ul>
<li>
<p>Improved resilience and availability of the chatbot feature.</p>
</li>
<li>
<p>Slight variability in hint style depending on the model currently active.</p>
</li>
<li>
<p>Additional complexity added to the backend logic to monitor model health and manage fallback behavior.</p>
</li>
<li>
<p>Future work could include evaluating additional models or services to further enhance reliability and output quality.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_adr_010_monitoring_strategy">9.10. ADR 010: Monitoring Strategy</h3>
<div class="paragraph">
<p><strong>Status: Accepted</strong>  📅
<strong>Date: 07/04/2025</strong></p>
</div>
</div>
<div class="sect2">
<h3 id="_context_10">9.11. Context</h3>
<div class="paragraph">
<p>The application requires monitoring for:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Application metrics:</strong> Performance (response times), errors, usage.</p>
</li>
<li>
<p><strong>Infrastructure metrics:</strong> VM resources (CPU, RAM, disk) on Oracle Cloud.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_decision_10">9.12. Decision</h3>
<div class="paragraph">
<p><strong>Split monitoring approach</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Application: Prometheus (data collection) + Grafana (visualization).</p>
</li>
<li>
<p>Infrastructure: Oracle Cloud Monitoring (pre-configured for VM).</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_reasoning_10">9.12.1. Reasoning</h4>
<div class="ulist">
<ul>
<li>
<p><strong>Prometheus/Grafana for Application</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Already partially configured.</p>
</li>
<li>
<p>Customizable for app metrics (e.g., endpoint latency).</p>
</li>
<li>
<p>Open-source with integrations (e.g., Artillery).</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Oracle Cloud Monitoring for Infrastructure</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Native to Oracle Cloud, minimal setup.</p>
</li>
<li>
<p>Already monitors other VM services.</p>
</li>
<li>
<p>Email alerts for thresholds (e.g., CPU &gt; 90%).</p>
</li>
<li>
<p>Avoids duplicating metrics in Grafana (reduces overhead).</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_alternatives_considered_7">9.12.2. Alternatives Considered</h4>
<div class="ulist">
<ul>
<li>
<p><strong>Unified Monitoring in Grafana</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Single dashboard.</p>
</li>
<li>
<p>Cons: Redundant with Oracle, increases VM load.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Oracle Cloud Monitoring for All</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Simplified vendor management.</p>
</li>
<li>
<p>Cons: Limited app metric customization.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_consequences_10">9.12.3. Consequences</h4>
<div class="ulist">
<ul>
<li>
<p><strong>Pros</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>App metrics are portable and tailored.</p>
</li>
<li>
<p>Infra alerts reuse existing setup.</p>
</li>
<li>
<p>Clear separation (app vs. infra).</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Cons</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Context-switching between dashboards.</p>
</li>
<li>
<p>Two toolchains to maintain.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_adr_011_dns_and_reverse_proxy_setup">9.13. ADR 011: DNS and Reverse Proxy Setup</h3>
<div class="paragraph">
<p><strong>Status: Accepted</strong>
<strong>:date: 30/04/2025</strong></p>
</div>
<div class="sect3">
<h4 id="_context_11">9.13.1. Context</h4>
<div class="paragraph">
<p>To allow users and services to access the deployed application on Oracle Cloud VM via a friendly domain and standard HTTP port, a DNS and reverse proxy solution was needed. The goal was to expose the service at a clean URL (<code><a href="http://wic2c.duckdns.org" class="bare">http://wic2c.duckdns.org</a></code>) instead of a raw IP address with a non-standard port.</p>
</div>
</div>
<div class="sect3">
<h4 id="_decision_11">9.13.2. Decision</h4>
<div class="paragraph">
<p>The team chose to use <strong>DuckDNS</strong> as a free DNS provider and <strong>Nginx</strong> as a reverse proxy.</p>
</div>
</div>
<div class="sect3">
<h4 id="_reasoning_11">9.13.3. Reasoning</h4>
<div class="ulist">
<ul>
<li>
<p><strong>DuckDNS</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Free and simple dynamic DNS service.</p>
</li>
<li>
<p>Allows mapping a custom subdomain (<code>wic2c.duckdns.org</code>) to the public IP address of the Oracle VM.</p>
</li>
<li>
<p>No cost, no registration complexity.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Nginx</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Acts as a reverse proxy, listening on port <code>80</code>.</p>
</li>
<li>
<p>Redirects traffic internally to port <code>3000</code>, where the application or monitoring stack is hosted.</p>
</li>
<li>
<p>Enables clean, production-like access to services without exposing internal port numbers.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_alternatives_considered_8">9.13.4. Alternatives considered</h4>
<div class="paragraph">
<p><strong>Using only raw IP and ports</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Pros:</p>
<div class="ulist">
<ul>
<li>
<p>No need to configure DNS or proxy layers.</p>
</li>
<li>
<p>Slightly faster setup.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Cons:</p>
<div class="ulist">
<ul>
<li>
<p>Users would need to remember IP addresses and ports (e.g., <code><a href="http://123.45.67.89:3000" class="bare">http://123.45.67.89:3000</a></code>).</p>
</li>
<li>
<p>Less professional appearance.</p>
</li>
<li>
<p>Harder to manage and scale in future.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_consequences_11">9.13.5. Consequences</h4>
<div class="ulist">
<ul>
<li>
<p>Users and developers can access the application at <code><a href="http://wic2c.duckdns.org" class="bare">http://wic2c.duckdns.org</a></code> using standard web protocols.</p>
</li>
<li>
<p>Internal routing and ports remain abstracted, improving security and maintainability.</p>
</li>
<li>
<p>Future enhancements (e.g., HTTPS, load balancing) can be layered onto the Nginx configuration.</p>
</li>
<li>
<p>Reliance on DuckDNS introduces a small risk of service availability tied to a free third-party provider.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_adr_012_load_testing_tool_selection">9.14. ADR 012: Load Testing Tool Selection</h3>
<div class="paragraph">
<p><strong>Status: Accepted</strong>
<strong>:date: 02/05/2025</strong></p>
</div>
<div class="sect3">
<h4 id="_context_12">9.14.1. Context</h4>
<div class="paragraph">
<p>To ensure the application can handle expected traffic and identify performance bottlenecks, a load testing solution was needed. The tool should be flexible, scriptable, and provide clear metrics for analysis.</p>
</div>
</div>
<div class="sect3">
<h4 id="_decision_12">9.14.2. Decision</h4>
<div class="paragraph">
<p>The team chose Artillery as the primary load testing tool.</p>
</div>
</div>
<div class="sect3">
<h4 id="_reasoning_12">9.14.3. Reasoning</h4>
<div class="paragraph">
<p>Open-source and designed for modern web applications.</p>
</div>
<div class="paragraph">
<p>Supports scripting complex user flows (e.g., login → actions → logout).</p>
</div>
<div class="paragraph">
<p>Integrates well with CI/CD pipelines.</p>
</div>
<div class="paragraph">
<p>Provides detailed reports (latency, RPS, error rates) and supports exporting metrics to Prometheus/Grafana.</p>
</div>
<div class="paragraph">
<p>Lightweight compared to alternatives like JMeter.</p>
</div>
</div>
<div class="sect3">
<h4 id="_alternatives_considered_9">9.14.4. Alternatives Considered</h4>
<div class="paragraph">
<p><strong>JMeter</strong>
<strong> Pros:
</strong>* Mature tool with GUI for test design.
<strong>* Extensive protocol support (HTTP, WebSockets, etc.).
</strong> Cons:
<strong>* Steeper learning curve.
</strong>* Resource-heavy for large-scale tests.</p>
</div>
<div class="paragraph">
<p><strong>Locust</strong>
<strong> Pros:
</strong>* Python-based, easy to extend.
<strong>* Distributed testing support.
</strong> Cons:
<strong>*</strong> Requires more setup for advanced scenarios.</p>
</div>
</div>
<div class="sect3">
<h4 id="_consequences_12">9.14.5. Consequences</h4>
<div class="paragraph">
<p>Load testing can be automated as part of the deployment pipeline.</p>
</div>
<div class="paragraph">
<p>Performance baselines and regressions are tracked over time.</p>
</div>
<div class="paragraph">
<p>Requires maintaining test scripts alongside application changes.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_quality_requirements">10. Quality Requirements</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_quality_tree">10.1. Quality Tree</h3>
<div class="paragraph">
<p><span class="image"><img src="./images/10_quality_tree.png" alt="Quality Tree"></span></p>
</div>
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<div class="title">Content</div>
<p>The quality tree (as defined in ATAM – Architecture Tradeoff Analysis Method) with quality/evaluation scenarios as leafs.</p>
</div>
<div class="paragraph">
<div class="title">Motivation</div>
<p>The tree structure with priorities provides an overview for a sometimes large number of quality requirements.</p>
</div>
<div class="paragraph">
<div class="title">Form</div>
<p>The quality tree is a high-level overview of the quality goals and requirements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>tree-like refinement of the term "quality". Use "quality" or "usefulness" as a root</p>
</li>
<li>
<p>a mind map with quality categories as main branches</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In any case the tree should include links to the scenarios of the following section.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_quality_scenarios">10.2. Quality Scenarios</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Prority</th>
<th class="tableblock halign-left valign-top">Quality Requirement</th>
<th class="tableblock halign-left valign-top">Scenario</th>
<th class="tableblock halign-left valign-top">Expected Outcome</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Usability</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A user enters the game and wants to play.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">They should have no issues logging in and understanding the game rules.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Performance</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A large number of people join the game.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This should not impact waiting times.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Accuracy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A player asks the chatbot for hints.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The chatbot should not give the answer but also should not provide false hints.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Scalability</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A new feature is added to the game.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Other features should not be affected.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Security</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A user registers with a password.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The password must be securely encrypted and stored in the database.</p></td>
</tr>
</tbody>
</table>
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<div class="title">Contents</div>
<p>Concretization of (sometimes vague or implicit) quality requirements using (quality) scenarios.</p>
</div>
<div class="paragraph">
<p>These scenarios describe what should happen when a stimulus arrives at the system.</p>
</div>
<div class="paragraph">
<p>For architects, two kinds of scenarios are important:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Usage scenarios (also called application scenarios or use case scenarios) describe the system’s runtime reaction to a certain stimulus. This also includes scenarios that describe the system’s efficiency or performance. Example: The system reacts to a user’s request within one second.</p>
</li>
<li>
<p>Change scenarios describe a modification of the system or of its immediate environment. Example: Additional functionality is implemented or requirements for a quality attribute change.</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Motivation</div>
<p>Scenarios make quality requirements concrete and allow to
more easily measure or decide whether they are fulfilled.</p>
</div>
<div class="paragraph">
<p>Especially when you want to assess your architecture using methods like
ATAM you need to describe your quality goals (from section 1.2)
more precisely down to a level of scenarios that can be discussed and evaluated.</p>
</div>
<div class="paragraph">
<div class="title">Form</div>
<p>Tabular or free form text.</p>
</div>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_risks_and_technical_debts">11. Risks and Technical Debts</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_technical_risks">11.1. Technical Risks</h3>
<div class="paragraph">
<p>When identifying and listing the project&#8217;s <strong>Technical Risks</strong>, it is helpful to separate them into <strong>Internal Risks</strong> (arising within the system development process) and <strong>External Risks</strong> (coming from factors outside the direct control of the development team).</p>
</div>
<div class="paragraph">
<p>Prioritized from highest to lowest, they are as follows:</p>
</div>
<div class="sect3">
<h4 id="_internal_risks">11.1.1. Internal Risks</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Internal Risk</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">How to Deal With It</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Lack of a Clear Work Plan</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Since we are starting from scratch, we still have many decisions and tasks ahead, making it difficult to clearly determine how each of us should proceed with the project.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">As we progress and become familiar with the framework, we should collaboratively outline a work plan.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Adaptation to New Technologies</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The technologies we have chosen to work with are new to several team members, which may cause discomfort and future issues.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Watch instructional videos to learn how to use them and understand their main functionalities.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Limited Experience Working in Large Teams</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Since we lack experience working in large teams, the communication process may be somewhat confusing.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Follow teamwork best practices and guidelines, and use tools like Pull Requests to ensure better version control.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Project Deadlines Overlapping with Other Tasks</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Since all members are students, the various project deadlines may clash with other important dates, such as exams and assignments.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Keep up with the work, and if any such issues arise, inform the rest of the team so they are aware of the situation.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Team Members with Limited Experience in GitHub and Pull Requests</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Not all team members are proficient with <strong>Pull Requests</strong>, which significantly limits their initial contributions.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Learn and practice using this functionality.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Team members leaving</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A certain team member was fired after not putting in any work for a few weeks, leaving all of us with extra work.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reorganizing our work and spending more time on this project.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_external_risks">11.1.2. External Risks</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">External Risk</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Dependence on API Functionality</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Since some application functionalities depend on external APIs, their proper operation is crucial for the app.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Server Uptime Dependency</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The application is hosted and deployed on a server, making its uptime essential.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>New AI Technology</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This is a recent technology, and working with it presents a novelty, with less available information compared to other technologies.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>GitHub and Cloudflare Issues</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Due to recent cases of some companies blocking <strong>Cloudflare</strong> from their servers, this could negatively impact the project, as it affects GitHub.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_technical_debts">11.2. Technical Debts</h3>
<div class="paragraph">
<p>At this stage of the project, we have encountered with the following:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Debt</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">How to Deal With It</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Limited Familiarity with the Base Project</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">We have been given a template to work from, but we are not yet fully familiar with its contents, even though this would be highly beneficial.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">During the application design process, the team should review what parts of the application were provided and what is missing.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Technology Choices That Not All Members Are Experienced With</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">We have chosen to work with certain programming languages in which we still lack experience, aiming to create the best possible application in the long run.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Try to become familiar with these technologies as soon as possible to avoid creating more problems in the future.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Dealing with bad code from fired member</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The team member that was fired left us a very broken timer component and other bad practices</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">We decided to just make a new one from scratch and remade its functionality.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Database schema</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The schemas used for our database may appear complex to a user accessing the application.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">We have traded off agility and flexibility in favor of future scalability when structuring the database.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Lack of clear criteria in components</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">In certain views of the application, there are elements that could have been separated into their own components.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Extract these pieces of code into their own classes to improve reusability, structure, and visibility.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Poor HTML practices</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Since we are using React, we have over-standardized the use of &lt;div&gt; tags in our page structure.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Improve the structure by replacing unnecessary &lt;div&gt;s with more appropriate tags that better serve their purpose.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Poorly resizable CSS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The CSS rules applied in certain components and views are not resizable.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Redesign the problematic rules with resizability in mind.</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_testing_and_monitoring">12. Testing and Monitoring</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We implemented a comprehensive testing and monitoring strategy to ensure the stability and
reliability of our project. A wide range of automated tests including unit,
and end-to-end tests were developed to validate the
functionality of each component and to detect potential issues early.
These tests help safeguard the system against regressions when introducing
new features or changes. Additionally, we established continuous
monitoring processes to track system performance and availability in real time,
allowing us to quickly identify and respond to any anomalies.
This proactive approach ensures that our project remains robust, scalable,
and consistently operational.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_types_of_tests_implemented">13. Types of Tests Implemented</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To guarantee code quality and system reliability, we implemented several types of tests aimed at different layers of the application.
Unit tests were developed using Jest, allowing us to validate individual components and functions in isolation.</p>
</div>
<div class="paragraph">
<p>To sum up these tests:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Game tests: We send multiple requests to our /addMatch endpoint, using both valid and invalid data, and ensure that only valid entries are successfully added.</p>
</li>
<li>
<p>Gateway tests: These tests involve sending requests to all gateway endpoints, some with invalid data, and confirming we receive the correct responses or appropriate error messages.</p>
</li>
<li>
<p>LLM tests: We ask our chatbot questions related to a specific answer and make sure it doesn’t reveal the actual answer, while also checking for any unexpected errors.</p>
</li>
<li>
<p>Auth service tests: We verify that the login system works correctly for registered users.</p>
</li>
<li>
<p>User service tests: We add a valid user and ensure that all user restrictions (e.g., username availability, minimum character requirements) function as intended.</p>
</li>
<li>
<p>Add user tests: Similar to the previous tests but focused on the UI; we check form validations and redirection behavior.</p>
</li>
<li>
<p>Game tests (UI): We ensure that all categories and difficulty levels work as expected in the game interface, and that gameplay functions correctly.</p>
</li>
<li>
<p>Login tests: Similar to our auth service tests, but through the UI. We verify login functionality for registered users and ensure proper redirections.</p>
</li>
<li>
<p>Question tests: For parts of the application like match history and rankings where questions are displayed, we verify that the data is shown correctly.</p>
</li>
<li>
<p>Ranking entry tests: We confirm that the ranking system displays user information in the correct order.</p>
</li>
<li>
<p>Wikidata tests: We make sure that questions are properly fetched from Wikidata and stored in our database for faster access.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These tests contribute significantly to our code coverage, which we continuously track using SonarQube to maintain high standards and detect untested or vulnerable areas.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="./images/12_coverage.png" alt="Coverage tests"></span></p>
</div>
<div class="paragraph">
<p>In addition to unit testing, we created end-to-end (E2E) tests to simulate
real user interactions and verify that the application behaves correctly from the user’s perspective.
These tests help ensure that critical user flows remain functional across updates.</p>
</div>
<div class="paragraph">
<p>Their functionality consists of registering a new user, logging in as them, playing a game, asking the chatbot
for hints, then, after the game is done, it checks the user&#8217;s match history and makes sure the match has been added,
after that it looks at the leaderboard, makes sure it&#8217;s not empty, looks up its own username in it and makes sure the
match also shows up there.</p>
</div>
<div class="paragraph">
<p>To assess performance and scalability, we also conducted load testing,
which allowed us to evaluate how the system handles high volumes of traffic and to identify potential bottlenecks under stress.</p>
</div>
<div class="paragraph">
<p>Our load tests consist of adding 10 users per second for 60 seconds into then adding 8 matches per second for another 60 seconds.</p>
</div>
<div class="paragraph">
<p>Finally, we used Grafana and Prometheus as monitoring tools to help us detect any outrages in real time.
We use these to monitor default values such as number of requests per minute but also custom values such as matches per minute or sign-ups per minute.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="./images/12_grafana.jpg" alt="Grafana load tests"></span></p>
</div>
<div class="paragraph">
<p>Where we can see the average time to process a request for really high numbers of requests per minute.</p>
</div>
<div class="paragraph">
<p>In addition, we also used oracle monitoring services inside our virtual machine for monitoring the virtual machine&#8217;s resources. (Keep in mind Grafana uses UTC+2 as a timezone, while oracle uses UTC)</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="./images/12_oracle.jpg" alt="Oracle load tests"></span></p>
</div>
<div class="paragraph">
<p>Which shows the use % of the different components of our server, such as its CPU and memory.</p>
</div>
<div class="paragraph">
<p>By combining these different types of testing, we’ve built a strong quality assurance framework that minimizes risk and ensures long-term maintainability.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="_glossary">14. Glossary</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Term</th>
<th class="tableblock halign-left valign-top">Definition</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>&lt;JavaScript&gt;</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>&lt;JavaScript is a lightweight, interpreted programming language that follows the object-oriented paradigm. It is the language we are using for this project.&gt;</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>&lt;Node.js&gt;</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>&lt;An open-source, cross-platform runtime environment that allows you to run JavaScript(or TypeScript in our case) code outside of a web browser. We are using it in the back-end. We are using it in the front-end part of the app.&gt;</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>&lt;Express&gt;</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>&lt;A minimal and flexible Node.js web application framework that provides a robust set of features for web and mobile applications. We are using it in the back-end.&gt;</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>&lt;React&gt;</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>&lt;React is an open-source JavaScript library used to build user interfaces.We are using it in the front-end part of the app.&gt;</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>&lt;Arc42&gt;</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>&lt;A set of different guidelines to follow for the documentation of a software process.&gt;</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>&lt;Docker&gt;</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>&lt;An open-source platform that automates the deployment of applications within software containers.&gt;</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>&lt;Front-end&gt;</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>&lt;The part of a website or application that users interact with directly, including the design, layout, and user interface (UI).&gt;</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>&lt;Back-end&gt;</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>&lt;The server-side of an application, where data processing, storage, and business logic happen, and it communicates with the front-end.&gt;</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>&lt;Wikidata&gt;</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>&lt;Wikidata is a free, collaborative, multilingual knowledge database that stores structured data.&gt;</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>&lt;Swagger&gt;</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>&lt;A set of open-source tools for designing, building, documenting, and consuming RESTful APIs.&gt;</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>&lt;Artillery&gt;</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>&lt;An open-source load testing toolkit for testing the performance of web applications, APIs, and services.&gt;</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>&lt;Oracle Cloud&gt;</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>&lt;Oracle&#8217;s cloud computing service offering infrastructure as a service (IaaS), platform as a service (PaaS), and software as a service (SaaS).&gt;</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>&lt;Oracle Cloud Monitoring&gt;</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>&lt;A service within Oracle Cloud Infrastructure that provides metrics and alarms for resources running in Oracle Cloud.&gt;</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>&lt;Grafana&gt;</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>&lt;An open-source analytics and monitoring platform that allows you to visualize and analyze metrics from various data sources.&gt;</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>&lt;Prometheus&gt;</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>&lt;An open-source systems monitoring and alerting toolkit that collects and stores metrics as time series data.&gt;</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>&lt;LLM&gt;</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>&lt;Large Language Model, a type of artificial intelligence model trained on vast amounts of text data to understand and generate human-like text.&gt;</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>&lt;Empathy&gt;</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>&lt;In UX/UI context, the ability to understand and share the feelings of users to create more intuitive and user-friendly interfaces.&gt;</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>&lt;CSS Modules&gt;</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>&lt;A CSS file in which all class names and animation names are scoped locally by default, helping avoid naming conflicts in larger projects.&gt;</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>&lt;SPARQL&gt;</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>&lt;A query language for retrieving and manipulating data stored in RDF format, commonly used with semantic web databases like Wikidata.&gt;</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>&lt;DNS&gt;</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>&lt;Domain Name System, the hierarchical naming system that translates human-readable domain names to machine-readable IP addresses.&gt;</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>&lt;Reverse proxy&gt;</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>&lt;A server that sits in front of web servers and forwards client requests, providing additional abstraction, control, and security. It allows us to redirect the default http port&gt;</em></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 8.2 EN<br>
Last updated 2025-05-04 21:49:03 +0200
</div>
</div>
</body>
</html>